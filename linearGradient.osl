float scalarProj(vector a, vector b) {
  return dot(a, b) / dot(b, b);
}

shader linearGradient(
  point Origin = point(-1.0, 0.0, 0.0),
  point Dest = point(1.0, 0.0, 0.0),
  point Point = P,

  output float Fac = 0.0) {
  
  Fac = clamp(scalarProj(Origin - Point, Origin - Dest), 0.0, 1.0);
}